<ActionBar class="action-bar">
    <!-- 
                        Use the NavigationButton as a side-drawer button in Android
                        because ActionItems are shown on the right side of the ActionBar
                        -->
    <NavigationButton ios:visibility="collapsed" icon="res://menu" (tap)="onDrawerButtonTap()"></NavigationButton>
    <!-- 
                        Use the ActionItem for IOS with position set to left. Using the
                        NavigationButton as a side-drawer button in iOS is not possible,
                        because its function is to always navigate back in the application.
                        -->
    <NavigationButton text="Go Back" android.systemIcon="ic_menu_back" (tap)="onNavBtnTap()" ios.position="left"></NavigationButton>
    <Label class="action-bar-title" text="Chat"></Label>
</ActionBar>
<GridLayout rows="*, auto" columns="auto" class="page page-content wallpaper">
    <StackLayout row="0" column="0" width="100%">
        <ScrollView class="messages-area" #ScrollList>
            <FlexboxLayout class="messages">
                <StackLayout [shadow]="2" cornerRadius="20" *ngFor="let message of messages; let idx = index" class="message-bubble" [class.myself]="message.sender">
                    <FlexboxLayout class="message-bubble-content">
                        <Label class="message-text" [text]="message.text" textWrap="true"></Label>
                        <FlexboxLayout class="meta">
                            <Label [text]="message.created | date: 'shortTime'" class="time"></Label>
                            <Label *ngIf="message.sender" text="&#xf111;" class="fa check" [class.blue]="isViewed(message)"></Label>
                        </FlexboxLayout>
                    </FlexboxLayout>
                </StackLayout>
            </FlexboxLayout>
        </ScrollView>
    </StackLayout>
    <StackLayout row="1" column="0" width="100%">
        <FlexboxLayout class="message-box">
            <FlexboxLayout class="text-area">
                <TextField [(ngModel)]="message" hint="Type a message" class="text-view" borderColor="#fff" borderRadius="1" borderWidth="1"></TextField>
                <Button text="&#xf1d8;" class="fa send" (tap)="send()" backgroundColor="#fff" borderColor="#fff" borderWidth="1"></Button>
            </FlexboxLayout>
        </FlexboxLayout>
    </StackLayout>
</GridLayout>
<!-- <GridLayout rows="*, auto" columns="*" class="page page-content wallpaper">
    <StackLayout row="0" col="0" class="full-content">
        <ScrollView class="messages-area" #ScrollList>
            <FlexboxLayout class="messages">
                <GridLayout tkExampleTitle tkToggleNavButton>
                    <RadListView [items]="messages">
                        <ng-template tkListItemTemplate let-item="item" let-i="index">
                            <StackLayout [shadow]="2" cornerRadius="20" class="message-bubble" [class.myself]="item.sender">
                                <FlexboxLayout class="message-bubble-content">
                                    <Label class="message-text" [text]="item.text" textWrap="true"></Label>
                                    <FlexboxLayout class="meta">
                                        <Label [text]="item.created | date: 'shortTime'" class="time"></Label>
                                        <Label *ngIf="item.sender" text="&#xf111;" class="fa check" [class.blue]="isViewed(item)"></Label>
                                    </FlexboxLayout>
                                </FlexboxLayout>
                            </StackLayout>
                        </ng-template>
                    </RadListView>
                </GridLayout>
            </FlexboxLayout>
        </ScrollView>
    </StackLayout>
    <StackLayout row="1" col="0" class="full-content">
            <FlexboxLayout class="message-box">
                <FlexboxLayout class="text-area">
                    <TextField [(ngModel)]="message" hint="Type a message" class="text-view" borderColor="#fff" borderRadius="1" borderWidth="1"></TextField>
                    <Button text="&#xf1d8;" class="fa send" (tap)="send()" backgroundColor="#fff" borderColor="#fff" borderWidth="1"></Button>
                </FlexboxLayout>
            </FlexboxLayout>
        </StackLayout>
</GridLayout> -->
<!-- <GridLayout rows="*, auto" columns="auto" class="wallpaper">
    <StackLayout row="0" column="0" width="100%">
        <ScrollView class="messages-area" #ScrollList>
            <FlexboxLayout class="messages">
                <StackLayout [shadow]="2" cornerRadius="20" *ngFor="let message of messages; let idx = index" class="message-bubble" [class.myself]="message.sender">
                    <FlexboxLayout class="message-bubble-content">
                        <Label class="message-text" [text]="message.text" textWrap="true"></Label>
                        <FlexboxLayout class="meta">
                            <Label [text]="message.created | date: 'shortTime'" class="time"></Label>
                            <Label *ngIf="message.sender" [text]="'fa-circle' | fonticon" class="fa check" [class.blue]="isViewed(message)"></Label>
                        </FlexboxLayout>
                    </FlexboxLayout>
                </StackLayout>
            </FlexboxLayout>
        </ScrollView>
    </StackLayout>
    <StackLayout row="1" column="0" width="100%">
        <FlexboxLayout class="message-box">
            <FlexboxLayout class="text-area">
                <TextField [(ngModel)]="message" hint="Type a message" class="text-view" borderColor="#fff" borderRadius="1" borderWidth="1"></TextField>
                <Button [text]="'fa-paper-plane' | fonticon" class="fa send" (tap)="send()" backgroundColor="#fff" borderColor="#fff" borderWidth="1"></Button>
            </FlexboxLayout>
        </FlexboxLayout>
    </StackLayout>
</GridLayout> -->