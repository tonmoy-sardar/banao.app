<ActionBar class="action-bar">
    <!-- 
        Use the NavigationButton as a side-drawer button in Android
        because ActionItems are shown on the right side of the ActionBar
        -->
    <NavigationButton ios:visibility="collapsed" icon="res://menu" (tap)="onDrawerButtonTap()"></NavigationButton>
    <!-- 
        Use the ActionItem for IOS with position set to left. Using the
        NavigationButton as a side-drawer button in iOS is not possible,
        because its function is to always navigate back in the application.
        -->
    <ActionItem icon="res://navigation/menu" android:visibility="collapsed" (tap)="onDrawerButtonTap()" ios.position="left">
    </ActionItem>
    <Label class="action-bar-title" text="Forgot Password"></Label>
</ActionBar>
<GridLayout class="page page-content">
    <FlexboxLayout class="login-page">
        <StackLayout class="full-content">
            <StackLayout class="apps-container">
                <!-- <Image class="logo" src="~/images/logo.png"></Image> -->
                <FrescoDrawee verticalAlignment="center" placeholderImageUri="~/images/placeholder.png" aspectRatio="1.33"
                imageUri="~/images/logo.png" width="120" height="120" roundAsCircle="true" actualImageScaleType="fitCenter"></FrescoDrawee>
                <StackLayout class="form" [formGroup]="form" novalidate *ngIf="!showOtpSection && !newPwdSection" style="padding-top:15">
                    <StackLayout class="input-filld">
                        <TextField class="input input-border" padding="10" borderRadius="18" backgroundColor="#FFFFFF" color="#FF2341" style="placeholder-color:#FF2341;"
                            hint="Registerd Mobile Number" returnKeyType="done" formControlName="contact_no" [ngClass]="displayFieldCss(form,'contact_no')"
                            keyboardType="number"></TextField>
                        <StackLayout *ngIf="isFieldValid(form,'contact_no')" class="invalid-feedback">
                            <Label text="Enter valid registerd mobile number"></Label>
                        </StackLayout>
                    </StackLayout>

                    <Button text="Submit" (tap)="customerForgotPasswordOtp()" class="btn btn-primary" padding="10" borderRadius="18">
                    </Button>
                    <StackLayout class="hr-light pading-gap m-b-10 m-t-10"></StackLayout>
                    <Label class="tag-line-grey" (tap)="onNavItemTap('/login')">
                        <FormattedString>
                            <Span text="Back to login" class="bold-tag"></Span>
                        </FormattedString>
                    </Label>
                </StackLayout>
                <StackLayout class="form" width="300" [formGroup]="otpForm" novalidate *ngIf="showOtpSection && !newPwdSection" style="padding-top:15">
                    <StackLayout class="input-filld">
                        <TextField class="input input-border" padding="10" borderRadius="18" backgroundColor="#FFFFFF" color="#FF2341" style="placeholder-color:#FF2341;"
                            hint="Enter OTP" returnKeyType="done" formControlName="otp" [ngClass]="displayFieldCss(otpForm,'otp')"></TextField>
                        <StackLayout *ngIf="isFieldValid(otpForm,'otp')" class="invalid-feedback">
                            <Label text="Enter Otp"></Label>
                        </StackLayout>
                    </StackLayout>
                    <Button text="Confirm" (tap)="submitOtp()" class="btn btn-primary" padding="10" borderRadius="18">
                    </Button>
                    <StackLayout class="hr-light pading-gap m-b-10 m-t-10"></StackLayout>
                    <Label class="tag-line-grey" (tap)="resendOtp()">
                        <FormattedString>
                            <Span text="Resend OTP" class="bold-tag" textDecoration="underline"></Span>
                        </FormattedString>
                    </Label>
                    <Label class="tag-line-grey m-t-10" style="padding-bottom:20" (tap)="onNavItemTap('/login')">
                        <FormattedString>
                            <Span text="Back to login" class="bold-tag"></Span>
                        </FormattedString>
                    </Label>
                </StackLayout>
                <StackLayout class="form" width="300" [formGroup]="passwordForm" novalidate *ngIf="newPwdSection" style="padding-top:15">
                    <StackLayout class="input-filld">
                        <TextField class="input input-border" padding="10" borderRadius="18" backgroundColor="#FFFFFF" color="#FF2341" style="placeholder-color:#FF2341;"
                            hint="Password" returnKeyType="next" formControlName="password" [ngClass]="displayFieldCss(passwordForm,'password')"
                            secure="true"></TextField>
                        <StackLayout *ngIf="isFieldValid(passwordForm,'password')" class="invalid-feedback">
                            <Label text="Enter Password"></Label>
                        </StackLayout>
                    </StackLayout>

                    <StackLayout class="input-filld">
                        <TextField class="input input-border" padding="10" borderRadius="18" backgroundColor="#FFFFFF" color="#FF2341" style="placeholder-color:#FF2341;"
                            hint="Confirm Password" returnKeyType="done" formControlName="conf_password" [ngClass]="displayFieldCss(passwordForm,'conf_password')"
                            secure="true"></TextField>
                        <StackLayout *ngIf="isFieldValid(passwordForm,'conf_password')" class="invalid-feedback">
                            <Label text="Enter Confirm Password"></Label>
                        </StackLayout>
                    </StackLayout>
                    <Button text="Submit" (tap)="submitNewPwd()" class="btn btn-primary" padding="10" borderRadius="18">
                    </Button>

                    <StackLayout class="hr-light pading-gap m-b-10 m-t-10"></StackLayout>
                    <Label class="tag-line-grey" (tap)="onNavItemTap('/login')">
                        <FormattedString>
                            <Span text="Back to login" class="bold-tag"></Span>
                        </FormattedString>
                    </Label>
                </StackLayout>
            </StackLayout>
        </StackLayout>
    </FlexboxLayout>
</GridLayout>